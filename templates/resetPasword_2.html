<!DOCTYPE html>
<html lang="ar" dir="rtl" data-bs-theme="light">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>إعادة إنشاء كلمة المرور</title>
    <link rel="stylesheet" href="/static/CSS/bootstrap.min.css">
    <link rel="stylesheet" href="/static/CSS/style.css" />
    <script type="module" src="/static/JS/main.js"></script>
  </head>
  <body class="min-vh-100 d-flex flex-column cairo-regular">
    <nav
      class="navbar navbar-expand-lg bg-body-tertiary py-1"
      style="background-image: linear-gradient(to right, #1e7b93, #add5db)"
    >
      <div class="container-fluid flex-row-reverse">
        <div class="d-flex">
          <div class="d-flex justify-content-center align-items-center">
            <button
              class="btn d-flex justify-content-center align-items-center btn-mode"
              style="height: 31px; width: 43px"
            >
              <svg
                class="icon w-100 h-100"
                xmlns="http://www.w3.org/2000/svg"
                width="16"
                height="16"
                fill="currentColor"
                class="bi bi-sun-fill"
                viewBox="0 0 16 16"
              >
                <path
                  d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8M8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0m0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13m8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5M3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8m10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0m-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0m9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707M4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708"
                />
              </svg>
            </button>
            <button
              class="btn d-flex justify-content-center align-items-center"
              style="height: 31px; color: #fff"
            >
              AR
            </button>
          </div>
        </div>
        <a class="navbar-brand p-0 m-0 order-lg-1" 
          ><img
            src="/static/images/logo.png"
            alt="logo"
            width="100"
            height="55"
        /></a>
      </div>
    </nav>

    <div class="container my-5 pt-3 flex-grow-1">
      {% if message %}
      <div
        class="alert alert-{{ category }} alert-dismissible fade show"
        role="alert"
      >
        {{ message }}
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="alert"
          aria-label="Close"
        ></button>
      </div>
      {% if url %}
      <script>
        if ("{{ category }}" === "success") {
          setTimeout(() => {
            window.location.href = "{{ url }}";
          }, 500);
        }
      </script>  
      {% endif %}    
      {% endif %}
      <div
        class="card mx-auto border-0 px-2 d-flex align-items-center"
        style="max-width: 40rem"
      >
        <div class="card-body my-4" style="width: 85%">
          <div class="text-center mb-5">
            <h3 class="mb-3">إعادة إنشاء كلمة المرور</h3>
            <p style="color: var(--bs-gray); font-size: 12px;">ادخل كلمة المرور الجديدة وقم بتأكيدها</p>
          </div>
          <form action="{{ url_for('reset_password')}}" method="post" class="w-100 h-100">
            <div
              class="input-group mb-3 border border-1 rounded overflow-hidden"
            >
              <span class="input-group-text border-0 rounded-0">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="16"
                  height="16"
                  fill="currentColor"
                  class="icon bi bi-lock"
                  viewBox="0 0 16 16"
                >
                  <path
                    d="M8 1a2 2 0 0 1 2 2v4H6V3a2 2 0 0 1 2-2m3 6V3a3 3 0 0 0-6 0v4a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2M5 8h6a1 1 0 0 1 1 1v5a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1"
                  />
                </svg>
              </span>
              <input
                type="password"
                name="password"
                class="form-control border-0 rounded-0"
                placeholder="كلمة المرور"
                required
              />
            </div>

            <div
              class="input-group mb-3 border border-1 rounded overflow-hidden"
            >
              <span class="input-group-text border-0 rounded-0">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="16"
                  height="16"
                  fill="currentColor"
                  class="icon bi bi-lock"
                  viewBox="0 0 16 16"
                >
                  <path
                    d="M8 1a2 2 0 0 1 2 2v4H6V3a2 2 0 0 1 2-2m3 6V3a3 3 0 0 0-6 0v4a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2M5 8h6a1 1 0 0 1 1 1v5a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1"
                  />
                </svg>
              </span>
              <input
                type="password"
                name="confirm_password"
                class="form-control border-0 rounded-0"
                placeholder="تأكيد كلمة المرور"
                required
              />
            </div>
            <div
              class="w-100 h-100 my-3 d-flex flex-column justify-content-center align-items-center"
            >
              <button
                type="submit"
                class="btn px-4 mt-2"
                style="background-color: #278a9f; color: #fff"
              >
                تغير كلمة المرور
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
    <footer class="w-100 mt-5 navbar justify-content-center align-items-center">
      <p class="m-0 text-center fw-semibold" style="font-size: 15px">
        &copy; جميع الحقوق محفوظة - 2025
      </p>
    </footer>
    <script src="/static/JS/bootstrap.bundle.min.js"></script>
    <script src="/static/JS/popper.min.js"></script>
  </body>
</html>
